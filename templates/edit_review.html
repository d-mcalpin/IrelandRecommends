{% extends "base.html" %}
{% block content %}
<h3 class="black-text center-align">Edit Review</h3>
<div class="row card-panel grey lighten-5">
   <form class="col s12" method="POST" action="{{ url_for('edit_review', review_id=review._id) }}">
      <!--Categories-->
      <div class="row">
         <div class="input-field col s12">
            <i class="fas fa-folder-open prefix black-text"></i>
            <select id ="category_name" name="category_name" class="validate" required>
               <option value="" disabled>Choose Category</option>
               {% for category in categories%}
               {% if category.category_name == review.category_name %}
               <option value="{{ category.category_name }}" selected>{{ category.category_name }}</option>
               {% else %}
               <option value="{{ category.category_name }}">{{ category.category_name }}</option>
               {% endif %}
               {% endfor %}
            </select>
            <label for="category_name">Review Category</label>
         </div>
      </div>
      <!--Review Name-->
      <div class="row">
         <div class="input-field col s12">
            <i class="fas fa-pencil-alt prefix black-text"></i>
            <input id="review_name" name="review_name" minlength="5" 
               maxlength="40" value="{{review.review_name}}" type="text" class="validate" required>
            <label for="review_name">Review Name</label>
         </div>
      </div>
      <!--Short Description-->
      <div class="row">
         <div class="input-field col s12">
            <i class="fas fa-align-left prefix black-text"></i>                    
            <textarea id="review_short" name="review_short" class="materialize-textarea validate"
               minlength="30" maxlength="63" required>
            {{-review.review_short-}}
            </textarea>
            <label for="review_short">Short Description</label>
         </div>
      </div>
      <!--Full Description-->          
      <div class="row">
         <div class="input-field col s12">
            <i class="fas fa-align-left prefix black-text"></i>                    
            <textarea id="review_long" name="review_long" class="materialize-textarea validate"
               minlength="100" maxlength="3000" required>
            {{-review.review_long-}}
            </textarea>
            <label for="review_long">Full Details - Tell Us More!</label>
         </div>
      </div>
      <!--Add Image-->
      <div class="row">
         <div class="input-field col s12">
            <i class="fas fa-camera-retro prefix black-text"></i>                    
            <textarea id="review_img" name="review_img" class="materialize-textarea validate"
               minlength="10" maxlength="300" required>
            {{-review.review_img-}}
            </textarea>
            <label for="review_img">Photo - Please provide a link to a photo of the review</label>
         </div>
      </div>
      <!--Edit button-->
      <div class="row">
         <div class="col s12 center-align">
            <button type="submit" class="btn-large white black-text">
            Edit Review
            </button>
            <a href="{{  url_for('profile', username=session['user'])}}" class="btn-large grey darken-4 white-text">Cancel</a>
         </div>
      </div>
   </form>
</div>
{% endblock %}